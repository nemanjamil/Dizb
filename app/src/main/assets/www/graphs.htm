<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Testing webView</title>
    <script src="./highcharts.js"></script>
    <script type="text/javascript">
		var options = {
			chart: {
				renderTo: '', // /*TODO pick the right id instead of vlaznostTabela*/
				type: 'spline'
			},
			title: {
				text: ''
			},
			credits: {
				enabled: false, // Enable/Disable the credits
				text: 'www.direktnoizbaste.rs'
			},
			/* subtitle: {
			 text: 'May 31 and and June 1, 2015 at two locations in Vik i Sogn, Norway'
			 },*/
			xAxis: {
				type: 'datetime',
			  /*  formatter: function () {
					return Highcharts.dateFormat('%a %d %b %H:%M', this.value);
				},*/
				dateTimeLabelFormats: { // don't display the dummy year
					minute: '%H:%M',
					hour: '%H:%M',
					day: '%e. %b',
					week: '%e. %b',
					month: '%b \'%y',
					year: '%Y'
				},
				title: {
					text: 'Datum'
				},
				overflow: 'justify'
			},


			yAxis: {
				title: {
					text: ''
				},
				/*
				alternateGridColor: null,
				 zoomEnabled: false,
				*/
				gridLineWidth: 0,
				minorGridLineWidth: 0,
				min: '',
				max: '',

				tickInterval: 5,

				plotBands: [{ // Zelena zona
					from: '',
					to: '',
					color: 'rgba(0, 153, 0, 0.1)',
					label: {
						text: 'Zelena zona',
						style: {
							color: '#606060'
						}
					}
				}, { // Zuta Gore
					from: '',
					to: '',
					color: 'rgba(255, 255, 0, 0.2)',
					label: {
						text: 'Žuta zona gore',
						style: {
							color: '#606060'
						}
					}
				}, { // Zuta dole
					from: '',
					to: '',
					color: 'rgba(255, 255, 0, 0.2)',
					label: {
						text: 'Žuta zona dole',
						style: {
							color: '#606060'
						}
					}
				}, { // Crvena Gore
					from: '',
					to: '',
					color: 'rgba(255, 102, 102, 0.1)',
					label: {
						text: 'Crvena zona gore',
						style: {
							color: '#606060'
						}
					}
				}, { // Crvena dole
					from: '',
					to: '',
					color: 'rgba(255, 102, 102, 0.1)',
					label: {
						text: 'Crvena zona dole',
						style: {
							color: '#606060'
						}
					}
				}]
			},
			series: [{
				name: ''
			}],
			tooltip: {
				valueSuffix: '',
				enabled: true,
				followTouchMove: false,
				formatter: function () {
            		return '<b>' + this.y + '</b>';
        		}
			},
			navigation: {
				menuItemStyle: {
					fontSize: '10px'
				}
			},
			<!--legend: {-->
                <!--layout: 'vertical',-->
                <!--align: 'left',-->
                <!--x: 80,-->
                <!--verticalAlign: 'top',-->
                <!--y: 55,-->
                <!--floating: true,-->
                <!--backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'-->
            <!--},-->
			exporting: {
				enabled: false
			}
		};
	
		function visitor (data,kojaTabela,varijablaZaTip,tipSenzora) {

			options.chart.renderTo = kojaTabela;
			senzorTipIme = data.podaciSenzor[varijablaZaTip].senzorTipIme

			// visina MIN I MAX
			vaMath = Math.ceil;
			minVar = vaMath(data.podaciSenzor[varijablaZaTip].OdZutoIdeal) - 20;
			if (minVar<=0) { min = 0; } else { min = minVar; }
			maxVar = vaMath(data.podaciSenzor[varijablaZaTip].DoZutoIdeal) + 20;
			if (maxVar>100) { max = 100; } else { max = maxVar; }
			options.yAxis.min = min;
			options.yAxis.max = max;

			// data.podaciSenzor[varijablaZaTip].ImeKulture+' - '+data.podaciSenzor[varijablaZaTip].ImeLokSamo+' - '+
			options.title.text = senzorTipIme;
			// zelena
			options.yAxis.plotBands[0].from = data.podaciSenzor[varijablaZaTip].OdPodaciIdeal;
			options.yAxis.plotBands[0].to = data.podaciSenzor[varijablaZaTip].DoPodaciIdeal;

			// zuta gore
			options.yAxis.plotBands[1].from = data.podaciSenzor[varijablaZaTip].DoPodaciIdeal;
			options.yAxis.plotBands[1].to = data.podaciSenzor[varijablaZaTip].DoZutoIdeal;

			// zuta dole
			options.yAxis.plotBands[2].from = data.podaciSenzor[varijablaZaTip].OdZutoIdeal;
			options.yAxis.plotBands[2].to = data.podaciSenzor[varijablaZaTip].OdPodaciIdeal;

			// crvena gore
			options.yAxis.plotBands[3].from = data.podaciSenzor[varijablaZaTip].DoZutoIdeal;
			options.yAxis.plotBands[3].to = parseFloat(data.podaciSenzor[varijablaZaTip].DoZutoIdeal) + 100;//parseFloat(data.podaciSenzor[varijablaZaTip].DoZutoIdeal) + 15;

			// crvena dole
			options.yAxis.plotBands[4].from = parseFloat(data.podaciSenzor[varijablaZaTip].OdZutoIdeal) - 100;
			options.yAxis.plotBands[4].to = data.podaciSenzor[varijablaZaTip].OdZutoIdeal;

			//options.yAxis.title.text = senzorTipIme;
			options.series[0].data = data.podaciSenzor[varijablaZaTip].podacizaSenzorTime[0];
			options.series[0].name = data.podaciSenzor[varijablaZaTip].podacizaSenzor[0].OpisSenNot;
			options.tooltip.valueSuffix = ' ' + tipSenzora;

			var chartTemp = new Highcharts.Chart(options);

		}
	
		document.addEventListener('DOMContentLoaded', function() {
			
			var data = Android.getJson();
			data = JSON.parse(data);
						
			visitor(data,'containerA',0,'%'); // vlaznost zemljista
			visitor(data,'containerB',1,'°C');
			visitor(data,'containerC',2,'lux');
			visitor(data,'containerD',3,'%');
		});
		</script>
</head>

<body>
    <div id="containerA" style="width:100%; height: 300px; margin: 0 auto"></div>
	<div id="containerB" style="width:100%; height: 300px; margin: 0 auto"></div>
	<div id="containerC" style="width:100%; height: 300px; margin: 0 auto"></div>
	<div id="containerD" style="width:100%; height: 300px; margin: 0 auto"></div>
</body>

</html>

